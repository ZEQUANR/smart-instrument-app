{"version":3,"file":"wd-loadmore.js","sources":["uni_modules/wot-design-uni/components/wd-loadmore/wd-loadmore.vue","../../../Program Files/HBuilderX/plugins/uniapp-cli-vite/uniComponent:/RDovbGVhcm4vSEJ1aWxkZXJQcm9qZWN0cy9zbWFydC1pbnN0cnVtZW50LWFwcC91bmlfbW9kdWxlcy93b3QtZGVzaWduLXVuaS9jb21wb25lbnRzL3dkLWxvYWRtb3JlL3dkLWxvYWRtb3JlLnZ1ZQ"],"sourcesContent":["<!--\n * @Author: weisheng\n * @Date: 2024-11-09 12:35:25\n * @LastEditTime: 2024-11-09 15:01:32\n * @LastEditors: weisheng\n * @Description: \n * @FilePath: /wot-design-uni/src/uni_modules/wot-design-uni/components/wd-loadmore/wd-loadmore.vue\n * 记得注释\n-->\n<template>\n  <view :class=\"['wd-loadmore', customClass]\" :style=\"customStyle\" @click=\"reload\">\n    <wd-divider v-if=\"state === 'finished'\">{{ finishedText || translate('finished') }}</wd-divider>\n    <template v-if=\"state === 'error'\">\n      <text class=\"wd-loadmore__text\">{{ errorText || translate('error') }}</text>\n      <text class=\"wd-loadmore__text is-light\">{{ translate('retry') }}</text>\n      <wd-icon name=\"refresh\" custom-class=\"wd-loadmore__refresh\" />\n    </template>\n    <template v-if=\"state === 'loading'\">\n      <wd-loading v-bind=\"customLoadingProps\" />\n      <text class=\"wd-loadmore__text\">{{ loadingText || translate('loading') }}</text>\n    </template>\n  </view>\n</template>\n\n<script lang=\"ts\">\nexport default {\n  name: 'wd-loadmore',\n  options: {\n    virtualHost: true,\n    addGlobalClass: true,\n    styleIsolation: 'shared'\n  }\n}\n</script>\n\n<script lang=\"ts\" setup>\nimport wdDivider from '../wd-divider/wd-divider.vue'\nimport wdLoading from '../wd-loading/wd-loading.vue'\nimport wdIcon from '../wd-icon/wd-icon.vue'\nimport { computed, ref } from 'vue'\nimport { useTranslate } from '../composables/useTranslate'\nimport { loadmoreProps, type LoadMoreState } from './types'\nimport type { LoadingProps } from '../wd-loading/types'\nimport { isDef, isUndefined, omitBy } from '../common/util'\n\nconst customLoadingProps = computed(() => {\n  const loadingProps: Partial<LoadingProps> = isDef(props.loadingProps) ? omitBy(props.loadingProps, isUndefined) : {}\n  loadingProps.customClass = `wd-loadmore__loading ${loadingProps.customClass || ''}`\n  return loadingProps\n})\n\nconst props = defineProps(loadmoreProps)\nconst emit = defineEmits(['reload'])\n\nconst { translate } = useTranslate('loadmore')\n\nconst currentState = ref<LoadMoreState | null>(null)\n\nfunction reload() {\n  if (props.state !== 'error') return\n  currentState.value = 'loading'\n  emit('reload')\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import './index.scss';\n</style>\n","import Component from 'D:/learn/HBuilderProjects/smart-instrument-app/uni_modules/wot-design-uni/components/wd-loadmore/wd-loadmore.vue'\nwx.createComponent(Component)"],"names":["computed","isDef","omitBy","isUndefined","useTranslate","ref"],"mappings":";;;;;;;;AAoCA,MAAA,YAAsB,MAAA;AACtB,MAAA,YAAsB,MAAA;AACtB,MAAA,SAAmB,MAAA;AAbnB,MAAA,cAAe;AAAA,EACb,MAAM;AAAA,EACN,SAAS;AAAA,IACP,aAAa;AAAA,IACb,gBAAgB;AAAA,IAChB,gBAAgB;AAAA,EAClB;AACF;;;;;;AAaM,UAAA,qBAAqBA,cAAAA,SAAS,MAAM;AAClC,YAAA,eAAsCC,gDAAAA,MAAM,MAAM,YAAY,IAAIC,uDAAO,MAAM,cAAcC,2DAAW,IAAI;AAClH,mBAAa,cAAc,wBAAwB,aAAa,eAAe,EAAE;AAC1E,aAAA;AAAA,IAAA,CACR;AAED,UAAM,QAAQ;AACd,UAAM,OAAO;AAEb,UAAM,EAAE,UAAA,IAAcC,6DAAA,aAAa,UAAU;AAEvC,UAAA,eAAeC,kBAA0B,IAAI;AAEnD,aAAS,SAAS;AAChB,UAAI,MAAM,UAAU;AAAS;AAC7B,mBAAa,QAAQ;AACrB,WAAK,QAAQ;AAAA,IACf;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC7DA,GAAG,gBAAgB,SAAS;"}