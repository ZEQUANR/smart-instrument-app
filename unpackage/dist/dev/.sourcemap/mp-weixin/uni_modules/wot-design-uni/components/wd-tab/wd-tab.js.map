{"version":3,"file":"wd-tab.js","sources":["uni_modules/wot-design-uni/components/wd-tab/wd-tab.vue","../../../Program Files/HBuilderX/plugins/uniapp-cli-vite/uniComponent:/RDovbGVhcm4vSEJ1aWxkZXJQcm9qZWN0cy9zbWFydC1pbnN0cnVtZW50LWFwcC91bmlfbW9kdWxlcy93b3QtZGVzaWduLXVuaS9jb21wb25lbnRzL3dkLXRhYi93ZC10YWIudnVl"],"sourcesContent":["<template>\n  <view :class=\"`wd-tab ${customClass}`\" :style=\"customStyle\">\n    <view :class=\"['wd-tab__body', { 'wd-tab__body--inactive': !active }]\" v-if=\"shouldBeRender\" :style=\"tabBodyStyle\">\n      <slot />\n    </view>\n  </view>\n</template>\n<script lang=\"ts\">\nexport default {\n  name: 'wd-tab',\n  options: {\n    addGlobalClass: true,\n    virtualHost: true,\n    styleIsolation: 'shared'\n  }\n}\n</script>\n<script lang=\"ts\" setup>\nimport { getCurrentInstance, ref, watch, type CSSProperties } from 'vue'\nimport { isDef, isNumber, isString, objToStyle } from '../common/util'\nimport { useParent } from '../composables/useParent'\nimport { TABS_KEY } from '../wd-tabs/types'\nimport { computed } from 'vue'\nimport { tabProps } from './types'\n\nconst props = defineProps(tabProps)\n\nconst { proxy } = getCurrentInstance() as any\nconst { parent: tabs, index } = useParent(TABS_KEY)\n\n// 激活项下标\nconst active = computed(() => {\n  return isDef(tabs) ? tabs.state.activeIndex === index.value : false\n})\n\nconst painted = ref<boolean>(active.value) // 初始状态tab不会渲染，必须通过tabs来设置painted使tab渲染\n\nconst tabBodyStyle = computed(() => {\n  const style: CSSProperties = {}\n  if (!active.value && (!isDef(tabs) || !tabs.props.animated)) {\n    style.display = 'none'\n  }\n  return objToStyle(style)\n})\n\nconst shouldBeRender = computed(() => !props.lazy || painted.value || active.value)\n\nwatch(active, (val) => {\n  if (val) painted.value = true\n})\n\nwatch(\n  () => props.name,\n  (newValue) => {\n    if (isDef(newValue) && !isNumber(newValue) && !isString(newValue)) {\n      uni.__f__('error','at uni_modules/wot-design-uni/components/wd-tab/wd-tab.vue:56','[wot design] error(wd-tab): the type of name should be number or string')\n      return\n    }\n    if (tabs) {\n      checkName(proxy)\n    }\n  },\n  {\n    deep: true,\n    immediate: true\n  }\n)\n\n/**\n * @description 检测tab绑定的name是否和其它tab的name冲突\n * @param {Object} self 自身\n */\nfunction checkName(self: any) {\n  const { name: myName } = props\n  if (myName === undefined || myName === null || myName === '') {\n    return\n  }\n  tabs &&\n    tabs.children.forEach((child: any) => {\n      if (child.$.uid !== self.$.uid && child.name === myName) {\n        uni.__f__('error','at uni_modules/wot-design-uni/components/wd-tab/wd-tab.vue:81',`The tab's bound value: ${myName} has been used`)\n      }\n    })\n}\n</script>\n<style lang=\"scss\" scoped>\n@import './index.scss';\n</style>\n","import Component from 'D:/learn/HBuilderProjects/smart-instrument-app/uni_modules/wot-design-uni/components/wd-tab/wd-tab.vue'\nwx.createComponent(Component)"],"names":["getCurrentInstance","useParent","TABS_KEY","computed","isDef","ref","objToStyle","watch","isNumber","isString","uni"],"mappings":";;;;;;AAQA,MAAA,cAAe;AAAA,EACb,MAAM;AAAA,EACN,SAAS;AAAA,IACP,gBAAgB;AAAA,IAChB,aAAa;AAAA,IACb,gBAAgB;AAAA,EAClB;AACF;;;;;AAUA,UAAM,QAAQ;AAER,UAAA,EAAE,UAAUA,cAAAA;AAClB,UAAM,EAAE,QAAQ,MAAM,MAAM,IAAIC,0DAAAA,UAAUC,iDAAAA,QAAQ;AAG5C,UAAA,SAASC,cAAAA,SAAS,MAAM;AAC5B,aAAOC,sDAAM,IAAI,IAAI,KAAK,MAAM,gBAAgB,MAAM,QAAQ;AAAA,IAAA,CAC/D;AAEK,UAAA,UAAUC,cAAAA,IAAa,OAAO,KAAK;AAEnC,UAAA,eAAeF,cAAAA,SAAS,MAAM;AAClC,YAAM,QAAuB,CAAA;AACzB,UAAA,CAAC,OAAO,UAAU,CAACC,gDAAA,MAAM,IAAI,KAAK,CAAC,KAAK,MAAM,WAAW;AAC3D,cAAM,UAAU;AAAA,MAClB;AACA,aAAOE,gDAAAA,WAAW,KAAK;AAAA,IAAA,CACxB;AAEK,UAAA,iBAAiBH,uBAAS,MAAM,CAAC,MAAM,QAAQ,QAAQ,SAAS,OAAO,KAAK;AAE5EI,wBAAA,QAAQ,CAAC,QAAQ;AACjB,UAAA;AAAK,gBAAQ,QAAQ;AAAA,IAAA,CAC1B;AAEDA,kBAAA;AAAA,MACE,MAAM,MAAM;AAAA,MACZ,CAAC,aAAa;AACR,YAAAH,gDAAA,MAAM,QAAQ,KAAK,CAACI,gDAAAA,SAAS,QAAQ,KAAK,CAACC,yDAAS,QAAQ,GAAG;AAC7DC,wBAAAA,MAAA,MAAM,SAAQ,iEAAgE,yEAAyE;AAC3J;AAAA,QACF;AACA,YAAI,MAAM;AACR,oBAAU,KAAK;AAAA,QACjB;AAAA,MACF;AAAA,MACA;AAAA,QACE,MAAM;AAAA,QACN,WAAW;AAAA,MACb;AAAA,IAAA;AAOF,aAAS,UAAU,MAAW;AACtB,YAAA,EAAE,MAAM,OAAW,IAAA;AACzB,UAAI,WAAW,UAAa,WAAW,QAAQ,WAAW,IAAI;AAC5D;AAAA,MACF;AACA,cACE,KAAK,SAAS,QAAQ,CAAC,UAAe;AAChC,YAAA,MAAM,EAAE,QAAQ,KAAK,EAAE,OAAO,MAAM,SAAS,QAAQ;AACvDA,8BAAI,MAAM,SAAQ,iEAAgE,0BAA0B,MAAM,gBAAgB;AAAA,QACpI;AAAA,MAAA,CACD;AAAA,IACL;;;;;;;;;;;;;;;;;AClFA,GAAG,gBAAgB,SAAS;"}