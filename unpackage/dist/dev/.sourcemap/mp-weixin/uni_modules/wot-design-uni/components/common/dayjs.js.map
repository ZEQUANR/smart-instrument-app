{"version":3,"file":"dayjs.js","sources":["uni_modules/wot-design-uni/components/common/dayjs.ts"],"sourcesContent":["import { isDate } from './util'\n\n/* eslint-disable */\nclass Dayjs {\n  utc: boolean\n  date: Date\n  timeZone: number\n  timeZoneString: any\n  mYear: any\n  mMonth: any\n  mDay: any\n  mWeek: any\n  mHour: any\n  mMinute: any\n  mSecond: any\n  constructor(dateStr?: string | number | Date) {\n    this.utc = false\n    const parsedDate = this.parseConfig(dateStr)\n    this.date = new Date(parsedDate)\n    this.timeZone = this.date.getTimezoneOffset() / 60\n    this.timeZoneString = this.padNumber(String(-1 * this.timeZone).replace(/^(.)?(\\d)/, '$10$200'), 5, '+')\n    this.mYear = this.date.getFullYear()\n    this.mMonth = this.date.getMonth()\n    this.mDay = this.date.getDate()\n    this.mWeek = this.date.getDay()\n    this.mHour = this.date.getHours()\n    this.mMinute = this.date.getMinutes()\n    this.mSecond = this.date.getSeconds()\n  }\n\n  parseConfig(dateStr?:string | number | Date) {\n    if (!dateStr) return new Date()\n    if (isDate(dateStr)) return dateStr\n    if (/^(\\d){8}$/.test(dateStr as string)) {\n      this.utc = true\n      return `${(dateStr as string).substr(0, 4)}-${(dateStr as string).substr(4, 2)}-${(dateStr as string).substr(6, 2)}`\n    }\n    return dateStr\n  }\n\n  padNumber(num:string, length:number, padChar:string) {\n    return !num || num.length >= length ? num : `${Array(length + 1 - num.length).join(padChar)}${num}`\n  }\n\n  year() {\n    return this.mYear\n  }\n\n  month() {\n    return this.mMonth\n  }\n\n  unix() {\n    const timeZoneOffset = this.utc ? 60 * this.timeZone * 60 * 1000 : 0\n    return Math.floor((this.date.getTime() + timeZoneOffset) / 1000)\n  }\n\n  toString() {\n    return this.date.toUTCString()\n  }\n\n  startOf(unit:string) {\n    switch (unit) {\n      case 'year':\n        return new Dayjs(new Date(this.year(), 0, 1))\n      case 'month':\n        return new Dayjs(new Date(this.year(), this.month(), 1))\n      default:\n        return this\n    }\n  }\n\n  add(amount:number, unit:string) {\n    let interval\n    switch (unit) {\n      case 'm':\n      case 'minutes':\n        interval = 60\n        break\n      case 'h':\n      case 'hours':\n        interval = 60 * 60\n        break\n      case 'd':\n      case 'days':\n        interval = 24 * 60 * 60\n        break\n      case 'w':\n      case 'weeks':\n        interval = 7 * 24 * 60 * 60\n        break\n      default:\n        interval = 1\n    }\n    const newUnixTime = this.unix() + amount * interval\n    return new Dayjs(1000 * newUnixTime)\n  }\n\n  subtract(amount:number, unit:string) {\n    return this.add(-1 * amount, unit)\n  }\n\n  format(formatStr = 'YYYY-MM-DDTHH:mm:ssZ') {\n    const weekdays = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday']\n    return formatStr.replace(/Y{2,4}|M{1,2}|D{1,2}|d{1,4}|H{1,2}|m{1,2}|s{1,2}|Z{1,2}/g, (match) => {\n      switch (match) {\n        case 'YY':\n          return String(this.mYear).slice(-2)\n        case 'YYYY':\n          return String(this.mYear)\n        case 'M':\n          return String(this.mMonth + 1)\n        case 'MM':\n          return this.padNumber(String(this.mMonth + 1), 2, '0')\n        case 'D':\n          return String(this.mDay)\n        case 'DD':\n          return this.padNumber(String(this.mDay), 2, '0')\n        case 'd':\n          return String(this.mWeek)\n        case 'dddd':\n          return weekdays[this.mWeek]\n        case 'H':\n          return String(this.mHour)\n        case 'HH':\n          return this.padNumber(String(this.mHour), 2, '0')\n        case 'm':\n          return String(this.mMinute)\n        case 'mm':\n          return this.padNumber(String(this.mMinute), 2, '0')\n        case 's':\n          return String(this.mSecond)\n        case 'ss':\n          return this.padNumber(String(this.mSecond), 2, '0')\n        case 'Z':\n          return `${this.timeZoneString.slice(0, -2)}:00`\n        case 'ZZ':\n          return this.timeZoneString\n        default:\n          return match\n      }\n    })\n  }\n}\n\nexport  function dayjs(dateStr?: string | number | Date) {\n return new Dayjs(dateStr)\n}\n"],"names":["isDate"],"mappings":"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"}